# 声音可视化平台游戏 - 使用说明 🎮🎵

## 游戏概述
这是一个基于声音控制的 3D 平台游戏，玩家需要通过发出声音来激活方块放置功能，然后点击鼠标在游戏世界中放置方块。

## 核心功能

### 🎵 声音控制系统
- **必须先发出声音**：在放置方块之前，必须对着麦克风发出声音
- **5秒有效期**：声音检测后的5秒内可以点击放置方块
- **视觉提醒**：如果没有声音就点击，会显示"NO SOUND"警告信息

### 🎯 游戏目标
- 通过放置方块帮助小人（蓝色圆点）从起始位置到达目标位置（黄色圆点）
- 小人只能在相邻的方块之间移动
- 限制使用的方块数量增加挑战性

### 🎮 操作方式
1. **放置方块**：
   - 先对麦克风说话或发出声音
   - 在声音检测后5秒内，点击鼠标左键放置方块
   - 方块会出现在鼠标点击的位置

2. **移动小人**：
   - `W/↑` - 向前移动
   - `S/↓` - 向后移动 
   - `A/←` - 向左移动
   - `D/→` - 向右移动

### 🎧 音频功能
- **背景音乐**：自动播放轻松的背景音乐
- **实时音频监测**：右侧面板显示音量、频率、时长信息
- **音频可视化条**：实时显示声音参数

### 📊 游戏界面

#### 左侧 - 规则面板
- 游戏规则和操作说明
- 颜色代码说明

#### 中央 - 游戏区域  
- 3D 游戏世界
- 小人、目标点、方块的显示

#### 右侧 - 信息面板
- 实时音频数据
- 游戏状态信息
- 小人位置信息

## 🎵 背景音乐设置
游戏会自动播放背景音乐文件 `background_music.wav`。如果文件不存在：
```bash
python generate_music.py
```

## 🚀 启动游戏
```bash
cd sound_visualization_game
python single_block_game.py
```

## 💡 游戏技巧
1. **声音策略**：可以用任何声音激活放置功能 - 说话、拍手、敲桌子等
2. **路径规划**：在开始放置方块前，先计划好小人的移动路径
3. **高度利用**：声音越大，方块越高，可以创造更有趣的地形
4. **时机把握**：记住5秒的声音有效期，及时点击放置方块

## 🛠️ 技术特性
- **实时音频处理**：PyAudio + NumPy 进行音频分析
- **3D 渲染**：基于 Pygame 的等轴测投影
- **智能路径检测**：自动检查小人可达路径
- **音频可视化**：实时显示音量、频率、时长数据

## 🎊 游戏状态
- **🔊 Make sound!** - 等待声音输入
- **🎮 Playing...** - 正常游戏中
- **🎉 YOU WIN!** - 成功到达目标
- **💥 GAME OVER** - 方块用完或其他失败条件

祝你游戏愉快！🎉